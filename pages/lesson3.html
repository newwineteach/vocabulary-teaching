<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>初級詞彙教學小結 - Flashcards</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        /* Back button styles */
        .back-button {
            position: fixed;
            top: 1rem;
            left: 1rem;
            z-index: 100;
            background: white;
            border: 4px solid black;
            padding: 0.75rem 1.25rem;
            font-weight: 900;
            box-shadow: 4px 4px 0 0 black;
            transition: all 0.2s;
            cursor: pointer;
        }

        .back-button:hover {
            background: #FEF08A;
            transform: translate(-2px, -2px);
            box-shadow: 6px 6px 0 0 black;
        }

        .back-button:active {
            transform: translate(2px, 2px);
            box-shadow: 2px 2px 0 0 black;
        }
    </style>
</head>

<body>
    <!-- 返回主頁按鈕 -->
    <a href="../index.html" class="back-button">
        <span class="text-xl">←</span>
        <span class="hidden md:inline ml-2">返回主頁</span>
    </a>

    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        // 資料來源：根據使用者上傳的 "活頁簿2.xlsx - flashcards初級.csv"
        const initialData = [
            {
                id: 1,
                question: "初級詞彙教學中，「現學現賣」主要能帶給學生什麼樣的心理回饋？",
                answer: "溝通的成就感。"
            },
            {
                id: 2,
                question: "針對零起點（初級）的學生，教學建議以什麼為基礎單位？",
                answer: "句子。"
            },
            {
                id: 3,
                question: "詞彙教學實務中，生詞不應單獨存在，而應搭配什麼進行教學？",
                answer: "情境。"
            },
            {
                id: 4,
                question: "在引導學生練習說話時，應遵循哪種逐步漸進的原則？",
                answer: "i+1 原則。"
            },
            {
                id: 5,
                question: "教學初級詞彙時，提問應如何安排以降低學習負擔？",
                answer: "以舊帶新（利用已學過的詞彙引導出新詞）。"
            },
            {
                id: 6,
                question: "詞彙教學的「綜合練習」應包含哪些基本目標？",
                answer: "鞏固發音、聲調、認字、連結意思及熟練用法。"
            },
            {
                id: 7,
                question: "初級詞彙教學的核心口訣：詞不離句，_____？",
                answer: "句不離段。"
            },
            {
                id: 8,
                question: "為了加強記憶，詞彙教學應調動學生的哪些感官參與？",
                answer: "口、耳、眼、手。"
            },
            {
                id: 9,
                question: "「請喝茶 → 茶很好喝 → 你喜歡喝什麼茶？」這展現了教學中的什麼邏輯？",
                answer: "循序漸進的引導練習。"
            },
            {
                id: 10,
                question: "初級詞彙教學中，「字卡練習」除了認字外，還可以進一步用於什麼互動？",
                answer: "使用卡片提問與回答。"
            },
            {
                id: 11,
                question: "詞彙教學如何達到「溫故知新」？",
                answer: "透過詞彙的重現與循序漸進的練習。"
            },
            {
                id: 12,
                question: "詞彙教學最終目標是幫助學生達成什麼？",
                answer: "成句表達。"
            }
        ];

        const PopArtFlashcards = () => {
            const [cards, setCards] = useState(initialData);
            const [currentIndex, setCurrentIndex] = useState(0);
            const [isFlipped, setIsFlipped] = useState(false);
            const [direction, setDirection] = useState('next');

            // 洗牌功能
            const shuffleCards = (e) => {
                if (e) e.stopPropagation();
                const shuffled = [...cards].sort(() => Math.random() - 0.5);
                setCards(shuffled);
                setCurrentIndex(0);
                setIsFlipped(false);
            };

            // 下一張
            const handleNext = (e) => {
                if (e) e.stopPropagation();
                setDirection('next');
                setIsFlipped(false);
                setTimeout(() => {
                    setCurrentIndex((prev) => (prev + 1) % cards.length);
                }, 150);
            };

            // 上一張
            const handlePrev = (e) => {
                if (e) e.stopPropagation();
                setDirection('prev');
                setIsFlipped(false);
                setTimeout(() => {
                    setCurrentIndex((prev) => (prev - 1 + cards.length) % cards.length);
                }, 150);
            };

            // 翻牌
            const handleFlip = (e) => {
                if (e) e.stopPropagation();
                setIsFlipped(!isFlipped);
            };

            // 重置
            const handleReset = (e) => {
                if (e) e.stopPropagation();
                setCards(initialData);
                setCurrentIndex(0);
                setIsFlipped(false);
            };

            // 背景點擊處理
            const handleBackgroundClick = (e) => {
                handleNext();
            };

            return (
                <div
                    className="min-h-screen bg-yellow-300 font-sans flex flex-col items-center justify-center p-4 relative overflow-hidden selection:bg-black selection:text-white cursor-pointer"
                    onClick={handleBackgroundClick}
                    title="點擊空白處切換下一張"
                >

                    {/* 背景裝飾 */}
                    <div
                        className="absolute inset-0 opacity-20 pointer-events-none"
                        style={{
                            backgroundImage: 'radial-gradient(black 2px, transparent 2px)',
                            backgroundSize: '20px 20px'
                        }}
                    />

                    {/* 裝飾性幾何圖形 */}
                    <div className="absolute top-10 left-10 w-24 h-24 bg-blue-500 border-4 border-black rounded-full hidden md:block shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] pointer-events-none"></div>
                    <div className="absolute bottom-10 right-10 w-32 h-32 bg-red-500 border-4 border-black rotate-12 hidden md:block shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] pointer-events-none"></div>

                    {/* 標題區域 */}
                    <header className="mb-8 z-10 text-center transform -rotate-2 pointer-events-none">
                        <h1 className="text-4xl md:text-6xl font-black text-white bg-black px-6 py-2 inline-block border-4 border-black shadow-[8px_8px_0px_0px_rgba(255,0,255,1)]">
                            FLASHCARDS!
                        </h1>
                        <p className="mt-4 text-lg md:text-xl font-bold bg-white border-4 border-black inline-block px-4 py-1 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] transform rotate-2">
                            初級詞彙教學法
                        </p>
                    </header>

                    {/* 桌面版固定側邊按鈕 */}
                    <div className="hidden md:flex fixed top-1/2 left-4 z-20 -translate-y-1/2">
                        <button
                            onClick={handlePrev}
                            className="bg-white hover:bg-gray-100 text-black border-4 border-black p-4 rounded-full shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] active:shadow-none active:translate-x-1 active:translate-y-1 transition-all cursor-pointer"
                            title="Previous"
                        >
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="4"><path d="M15 18l-6-6 6-6" /></svg>
                        </button>
                    </div>
                    <div className="hidden md:flex fixed top-1/2 right-4 z-20 -translate-y-1/2">
                        <button
                            onClick={handleNext}
                            className="bg-white hover:bg-gray-100 text-black border-4 border-black p-4 rounded-full shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] active:shadow-none active:translate-x-1 active:translate-y-1 transition-all cursor-pointer"
                            title="Next"
                        >
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="4"><path d="M9 18l6-6-6-6" /></svg>
                        </button>
                    </div>

                    {/* 主要卡片區域 */}
                    <div className="w-full max-w-xl z-10" style={{ perspective: '1000px' }}>
                        <div
                            className="relative w-full h-80 md:h-96 cursor-pointer group"
                            onClick={handleFlip}
                        >
                            {/* 卡片容器 */}
                            <div
                                className="relative w-full h-full transition-all duration-500"
                                style={{
                                    transformStyle: 'preserve-3d',
                                    transform: isFlipped ? 'rotateY(180deg)' : 'rotateY(0deg)'
                                }}
                            >
                                {/* 正面 (問題) */}
                                <div
                                    className="absolute inset-0 flex flex-col items-center justify-center p-8 text-center bg-cyan-400 border-4 border-black shadow-[12px_12px_0px_0px_rgba(0,0,0,1)]"
                                    style={{ backfaceVisibility: 'hidden', transform: 'rotateY(0deg)' }}
                                >
                                    <span className="absolute top-4 left-4 text-xs font-black bg-black text-white px-2 py-1">QUESTION</span>
                                    <div className="bg-white border-4 border-black p-6 w-full transform -rotate-1 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]">
                                        <h2 className="text-xl md:text-2xl font-black leading-tight text-black">
                                            {cards[currentIndex].question}
                                        </h2>
                                    </div>
                                    <p className="mt-6 text-sm font-bold animate-pulse text-black">
                                        ( 點擊翻頁 CLICK TO FLIP )
                                    </p>
                                </div>

                                {/* 背面 (答案) */}
                                <div
                                    className="absolute inset-0 flex flex-col items-center justify-center p-8 text-center bg-pink-500 border-4 border-black shadow-[12px_12px_0px_0px_rgba(0,0,0,1)]"
                                    style={{ backfaceVisibility: 'hidden', transform: 'rotateY(180deg)' }}
                                >
                                    <span className="absolute top-4 right-4 text-xs font-black bg-yellow-300 text-black border-2 border-black px-2 py-1">ANSWER</span>

                                    <div className="relative">
                                        <div className="bg-white border-4 border-black p-6 relative z-10 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)]">
                                            <h2 className="text-2xl md:text-3xl font-black text-black">
                                                {cards[currentIndex].answer}
                                            </h2>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    {/* 控制按鈕區域 */}
                    <div className="mt-12 w-full max-w-xl flex justify-between items-center z-10 px-0 md:px-4 cursor-default">

                        <button
                            onClick={handlePrev}
                            className="bg-white hover:bg-gray-100 text-black border-4 border-black p-3 font-bold shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] active:shadow-none active:translate-x-1 active:translate-y-1 transition-all flex items-center gap-2 cursor-pointer"
                        >
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="3"><path d="M19 12H5M12 19l-7-7 7-7" /></svg>
                            <span className="hidden md:inline">PREV</span>
                        </button>

                        <div className="bg-black text-white font-black px-4 py-3 border-4 border-white shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]" onClick={(e) => e.stopPropagation()}>
                            {currentIndex + 1} / {cards.length}
                        </div>

                        <button
                            onClick={handleNext}
                            className="bg-white hover:bg-gray-100 text-black border-4 border-black p-3 font-bold shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] active:shadow-none active:translate-x-1 active:translate-y-1 transition-all flex items-center gap-2 cursor-pointer"
                        >
                            <span className="hidden md:inline">NEXT</span>
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="3"><path d="M5 12h14M12 5l7 7-7 7" /></svg>
                        </button>
                    </div>

                    {/* 底部工具列 */}
                    <div className="mt-8 flex gap-4 z-10 cursor-default">
                        <button
                            onClick={shuffleCards}
                            className="bg-purple-500 hover:bg-purple-600 text-white border-4 border-black px-4 py-2 font-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] active:translate-y-1 active:shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] transition-all flex items-center gap-2 cursor-pointer"
                        >
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="3"><path d="M16 3h5v5M4 20L21 3M21 16v5h-5M15 15l6 6M4 4l5 5" /></svg>
                            SHUFFLE
                        </button>

                        <button
                            onClick={handleReset}
                            className="bg-green-500 hover:bg-green-600 text-white border-4 border-black px-4 py-2 font-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] active:translate-y-1 active:shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] transition-all flex items-center gap-2 cursor-pointer"
                        >
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="3"><path d="M1 4v6h6M23 20v-6h-6" /><path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15" /></svg>
                            RESET
                        </button>
                    </div>

                    {/* 裝飾性文字 */}
                    <div className="fixed bottom-2 right-2 md:bottom-6 md:right-6 font-black text-yellow-500/50 text-6xl md:text-8xl select-none pointer-events-none rotate-12 z-0">
                        POP!
                    </div>
                    <div className="fixed top-20 left-4 font-black text-cyan-500/50 text-5xl select-none pointer-events-none -rotate-12 z-0">
                        ART!
                    </div>

                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<PopArtFlashcards />);
    </script>
</body>

</html>