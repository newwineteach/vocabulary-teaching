<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Êº¢Ë™ûË©ûÂΩôÊïôÂ≠∏Á≠ñÁï• - ‰∫íÂãïÊ∏¨È©ó</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&family=Share+Tech+Mono&display=swap');

        body {
            font-family: 'Noto Sans TC', sans-serif;
            overflow: hidden;
            background-color: black;
            color: #dcfce7;
        }

        canvas {
            position: fixed;
            top: 0;
            left: 0;
            z-index: 0;
            opacity: 0.8;
        }

        .glass-panel {
            background: rgba(0, 20, 0, 0.7);
            backdrop-filter: blur(8px);
            border: 1px solid rgba(74, 222, 128, 0.3);
            box-shadow: 0 0 30px rgba(0, 255, 0, 0.1);
        }

        .neon-text {
            text-shadow: 0 0 5px #4ade80, 0 0 10px #4ade80, 0 0 20px #22c55e;
        }

        .custom-scroll::-webkit-scrollbar {
            width: 6px;
        }

        .custom-scroll::-webkit-scrollbar-track {
            background: #001100;
        }

        .custom-scroll::-webkit-scrollbar-thumb {
            background: #15803d;
            border-radius: 3px;
        }

        /* Back button */
        .back-button {
            position: fixed;
            top: 1rem;
            left: 1rem;
            z-index: 100;
            background: rgba(74, 222, 128, 0.2);
            border: 2px solid #4ade80;
            padding: 0.5rem 1rem;
            font-weight: bold;
            box-shadow: 0 0 10px rgba(74, 222, 128, 0.3);
            transition: all 0.2s;
            color: #4ade80;
            font-family: 'Share Tech Mono', monospace;
        }

        .back-button:hover {
            background: rgba(74, 222, 128, 0.4);
            box-shadow: 0 0 20px rgba(74, 222, 128, 0.5);
        }
    </style>
</head>

<body class="h-screen w-full flex items-center justify-center relative">

    <!-- Background Canvas -->
    <canvas id="matrix"></canvas>

    <!-- ËøîÂõû‰∏ªÈ†ÅÊåâÈàï -->
    <a href="../index.html" class="back-button">
        <span class="text-xl">‚Üê</span>
        <span class="hidden md:inline ml-2">BACK</span>
    </a>

    <!-- Main Container -->
    <div class="relative z-10 w-full max-w-4xl p-4 flex flex-col md:flex-row gap-6 h-[90vh] md:h-auto">

        <!-- Left Panel: Quiz Area -->
        <main
            class="flex-1 glass-panel rounded-2xl p-6 md:p-8 flex flex-col justify-center min-h-[500px] relative overflow-hidden">

            <!-- Start Screen -->
            <div id="start-screen" class="text-center space-y-8 animate__animated animate__fadeIn">
                <div class="mb-8">
                    <h1 class="text-4xl md:text-5xl font-bold mb-2 neon-text font-mono tracking-wider">
                        VOCABULARY<br>STRATEGY</h1>
                    <p class="text-green-400 tracking-[0.5em] text-sm md:text-base">SYSTEM_READY</p>
                </div>

                <div class="max-w-xs mx-auto space-y-4">
                    <div class="relative">
                        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                            <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                            </svg>
                        </div>
                        <input type="text" id="playerName" placeholder="Ëº∏ÂÖ•ÊÇ®ÁöÑ‰ª£Ëôü (Agent Name)"
                            class="w-full pl-10 pr-4 py-3 bg-black/50 border border-green-700 rounded text-green-300 placeholder-green-800 focus:outline-none focus:border-green-400 focus:ring-1 focus:ring-green-400 font-mono text-center">
                    </div>

                    <button onclick="startGame()"
                        class="w-full bg-green-700 hover:bg-green-600 text-white font-bold py-3 px-6 rounded shadow-[0_0_15px_rgba(21,128,61,0.5)] transition-all hover:shadow-[0_0_25px_rgba(34,197,94,0.6)] hover:-translate-y-1 font-mono tracking-widest">
                        ENTER_MATRIX
                    </button>
                </div>

                <div class="text-xs text-green-800 font-mono mt-8">
                    v2.0.26 // UPLOADED: Vocabulary_Strategy_Essentials
                </div>
            </div>

            <!-- Quiz Screen -->
            <div id="quiz-screen" class="hidden h-full flex flex-col">
                <!-- Progress Bar -->
                <div class="w-full bg-green-900/30 h-1 rounded mb-6 overflow-hidden">
                    <div id="progress-bar"
                        class="bg-green-500 h-full w-0 transition-all duration-500 shadow-[0_0_10px_#22c55e]"></div>
                </div>

                <!-- Question Area -->
                <div id="question-container" class="flex-1 flex flex-col justify-center">
                    <!-- Dynamic Content -->
                </div>
            </div>

            <!-- Result Screen -->
            <div id="result-screen" class="hidden text-center space-y-6 animate__animated animate__zoomIn">
                <h2 class="text-3xl font-bold text-green-300 mb-2">MISSION COMPLETE</h2>
                <div
                    class="inline-block p-8 rounded-full border-4 border-green-500 bg-black/50 shadow-[0_0_30px_rgba(34,197,94,0.4)] mb-4">
                    <span class="block text-sm text-green-600 mb-1">FINAL SCORE</span>
                    <span id="final-score" class="text-6xl font-bold text-white neon-text">0</span>
                </div>
                <p class="text-green-200" id="result-message">ÊïôÂ≠∏Á≠ñÁï•Êï∏ÊìöÂ∑≤ÂÆåÊàêÂàÜÊûê„ÄÇ</p>
                <button onclick="restartGame()"
                    class="bg-transparent border-2 border-green-600 text-green-400 hover:bg-green-900 hover:text-white font-bold py-2 px-6 rounded transition-colors font-mono">
                    RESTART_SYSTEM
                </button>
            </div>

        </main>

        <!-- Right Panel: Leaderboard -->
        <aside
            class="w-full md:w-64 glass-panel rounded-2xl p-4 flex flex-col max-h-[40vh] md:max-h-none overflow-hidden">
            <h3 class="text-lg font-bold text-green-400 mb-4 border-b border-green-800 pb-2 flex items-center">
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z">
                    </path>
                </svg>
                LEADERBOARD
            </h3>
            <div id="leaderboard-list" class="flex-1 overflow-y-auto custom-scroll">
                <div class="text-green-800 text-sm text-center py-4">
                    Êú¨Âú∞Ê®°Âºè - ÁÑ°ÈúÄÈÄ£Á∑ö
                </div>
            </div>
        </aside>

    </div>

    <!-- Lightbox Modal -->
    <div id="lightbox"
        class="fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-sm hidden animate__animated animate__fadeIn">
        <div id="lightbox-content" class="relative">
            <!-- Content Injected via JS -->
        </div>
    </div>

    <script>
        // Quiz Data
        const questions = [
            {
                question: "Ë™ûË®ÄËÅΩ„ÄÅË™™„ÄÅËÆÄ„ÄÅÂØ´ÁöÑÊ†∏ÂøÉÊòØ‰ªÄÈ∫ºÔºü",
                options: ["Ë™ûÊ≥ï", "Ë©ûÂΩô", "ÁôºÈü≥", "ÊñáÂåñ"],
                answer: 1,
                explanation: "Ë©ûÂΩôÊòØË™ûË®ÄÁöÑÂü∫Êú¨ÂñÆ‰ΩçÔºåÊòØËÅΩË™™ËÆÄÂØ´ÁöÑÂü∫Á§é„ÄÇ"
            },
            {
                question: "‰∏ÄÂÄãÂÆåÊï¥ÁöÑË©ûÂΩôÊïôÂ≠∏ÊµÅÁ®ãÂåÖÂê´Âì™ÂõõÂÄãÈöéÊÆµÔºü",
                options: ["Ê∫ñÂÇô„ÄÅË¨õËß£„ÄÅËÉåË™¶„ÄÅËÄÉË©¶", "Â∞éÂÖ•„ÄÅÂëàÁèæ„ÄÅÁ∑¥Áøí„ÄÅÈÅãÁî®", "ÊöñË∫´„ÄÅÊúóËÆÄ„ÄÅÊäÑÂØ´„ÄÅÈªòÂØ´", "ËÅÜËÅΩ„ÄÅË∑üËÆÄ„ÄÅÂ∞çË©±„ÄÅÂØ´‰Ωú"],
                answer: 1,
                explanation: "Ê®ôÊ∫ñÊµÅÁ®ãÔºöÂ∞éÂÖ•(ÂºïÁôºËààË∂£) ‚Üí ÂëàÁèæ(ÂºïÂ∞éÁ∑¥Áøí) ‚Üí Á∑¥Áøí(Ëá™‰∏ªÊ¥ªÂãï) ‚Üí ÈÅãÁî®(Ê¥ªÁî®Á¥îÁÜü)„ÄÇ"
            },
            {
                question: "Èô§‰∫ÜÁêÜËß£ÂíåË®òÊÜ∂ÁîüË©ûÁöÑÊÑèÊÄùÔºåÊïôÂ≠∏ÈáçÈªûÈÇÑÊáâÂåÖÂê´‰ªÄÈ∫ºÔºü",
                options: ["Â≠óÂΩ¢ÁµêÊßã", "Ê≠∑Âè≤ÊºîËÆä", "Áî®Ê≥ïÂèäÊê≠ÈÖç", "ÁøªË≠ØËÉΩÂäõ"],
                answer: 2,
                explanation: "ÊïôÂ≠∏ÈáçÈªû‰∏çÂÉÖÂú®ÊñºÁêÜËß£ÊÑèÊÄùÔºåÊõ¥Âú®ÊñºÊéåÊè°Ë©ûÂΩôÁöÑ„ÄåÁî®Ê≥ïÂèäÊê≠ÈÖç„Äç„ÄÇ"
            },
            {
                question: "ÁÇ∫‰∫ÜÊèêÂçáÂ≠∏ÁøíÂãïÊ©üÔºåÂú®„ÄåÂ∞éÂÖ•„ÄçÈöéÊÆµÊáâÊé°Áî®‰ªÄÈ∫ºÁ≠ñÁï•Ôºü",
                options: ["Â§öÂÖÉ‰∫íÂãïÁ≠ñÁï•", "Ê©üÊ¢∞ÂºèÈáçË§á", "Â≠óÂÖ∏Êü•Èñ±", "ÊñáÊ≥ïÂàÜÊûê"],
                answer: 0,
                explanation: "Êáâ‰ΩøÁî®ÂúñÁâá„ÄÅËÅ≤Èü≥„ÄÅÂΩ±ÂÉè„ÄÅËßíËâ≤ÊâÆÊºîÁ≠âÂ§öÂÖÉ‰∫íÂãïÁ≠ñÁï•‰æÜÂºïÁôºËààË∂£„ÄÇ"
            },
            {
                question: "ÂàùÁ¥öËàá‰∏≠Á¥öË©ûÂΩôÊúÄÂ§ßÁöÑÂ∑ÆÁï∞Âú®ÊñºÂæû„ÄåÂÖ∑È´î„ÄçËΩâÂêë‰ªÄÈ∫ºÔºü",
                options: ["Á∞°ÂñÆ", "ÊäΩË±°", "Âè£Ë™û", "ÁîüÊ¥ªÂåñ"],
                answer: 1,
                explanation: "ÂàùÁ¥öË©ûÂΩôÂ§öÁÇ∫ÂÖ∑È´î„ÄÅÈ´òÈ†ªÔºõ‰∏≠Á¥öË©ûÂΩôÂâáÂÖ∑ÊúâÊäΩË±°„ÄÅÊ≠£Âºè„ÄÅË±êÂØåÂèäÊñáÂåñÂê´Áæ©„ÄÇ"
            },
            {
                question: "Âà∞‰∫Ü‰∏≠Á¥öÔºåÂ≠∏ÁîüÊúÄÂ∏∏ÈÅáÂà∞ÁöÑË©ûÂΩôÂ≠∏ÁøíÂõ∞Èõ£ÂåÖÂê´Âì™‰∫õÔºü",
                options: ["ÁôºÈü≥Ê∑∑Ê∑Ü", "ÁÑ°Ê≥ïÈùàÊ¥ªÈÅãÁî®", "ÊäΩË±°Ê¶ÇÂøµÁêÜËß£Âõ∞Èõ£", "‰ª•‰∏äÁöÜÊòØ"],
                answer: 3,
                explanation: "‰∏≠Á¥öÂ∏∏Ë¶ãÂõ∞Èõ£ÂåÖÂê´ÔºöË©ûÂΩôÈáè‰∏çË∂≥„ÄÅÁôºÈü≥Ê∑∑Ê∑Ü„ÄÅÁÑ°Ê≥ïÈùàÊ¥ªÈÅãÁî®ÂèäÊäΩË±°Ê¶ÇÂøµÁêÜËß£Âõ∞Èõ£„ÄÇ"
            },
            {
                question: "Â¶Ç‰ΩïÂπ´Âä©Â≠∏ÁîüÂÖãÊúç„ÄåÈÅ∫ÂøòÁéáÈ´ò„ÄçÁöÑÂïèÈ°åÔºü",
                options: ["ÁΩ∞ÊäÑÂØ´", "Âª∂Èï∑‰∏äË™≤ÊôÇÈñì", "Ë©ûÂΩôÈáçÁèæ„ÄÅÊ∫´ÊïÖÁü•Êñ∞", "Âè™ÊïôÁ∞°ÂñÆÁöÑË©û"],
                answer: 2,
                explanation: "ÈÄèÈÅéÁ≥ªÁµ±ÂåñÁöÑË§áÁøíËàáË©ûÂΩôÈáçÁèæ (Recurrence)ÔºåÂπ´Âä©Â≠∏ÁîüÈûèÂõ∫Ë®òÊÜ∂„ÄÇ"
            },
            {
                question: "ÂüπÈ§äÂ≠∏Áîü„ÄåÂàÜÊûêË©ûË™ûËÉΩÂäõ„ÄçÁöÑÈóúÈçµÊïôÂ≠∏Ê≥ïÊòØ‰ªÄÈ∫ºÔºü",
                options: ["ÁøªË≠ØÊïôÂ≠∏Ê≥ï", "Áõ¥Êé•ÊïôÂ≠∏Ê≥ï", "Ë™ûÁ¥†ÊïôÂ≠∏", "ËÅΩË™™ÊïôÂ≠∏Ê≥ï"],
                answer: 2,
                explanation: "Ë™ûÁ¥†ÊïôÂ≠∏ (Morpheme teaching) ÈáçË¶ñÊßãË©ûÊ≥ïÔºåËÆìÂ≠∏ÁîüËÉΩËàâ‰∏ÄÂèç‰∏â (Â¶ÇÔºöÊñ∞Ë©û = ÂñÆÂ≠ó + ÂñÆÂ≠ó)„ÄÇ"
            },
            {
                question: "ÁúãÂà∞„ÄåÁ∂†Ëå∂„ÄÅÁôΩÈõ™„ÄÅÂú∞Èúá„ÄçÈÄô‰∫õË©ûÔºåÊàëÂÄë‰∏ªË¶ÅÊòØÂú®Á∑¥Áøí‰ªÄÈ∫ºÊ¶ÇÂøµÔºü",
                options: ["ËÅ≤Ë™øËÆäÂåñ", "ÊßãË©ûÊ≥ï (Word Formation)", "Âè•ÂûãÁµêÊßã", "‰øÆËæ≠ÊäÄÂ∑ß"],
                answer: 1,
                explanation: "ÈÄô‰∫õ‰æãÂ≠êÂ±ïÁ§∫‰∫ÜË©ûË™ûÁöÑÁµÑÂêàÊñπÂºèÔºåÂ¶ÇÂΩ¢ÂÆπË©û+ÂêçË©û„ÄÅ‰∏ªË™û+Ë¨ÇË™ûÔºåÂ±¨ÊñºÊßãË©ûÊ≥ïÁ∑¥Áøí„ÄÇ"
            },
            {
                question: "Ë®≠Ë®àË™≤Â†ÇÈÅäÊà≤ËàáÁ∑¥ÁøíÊôÇÔºåÊúÄÈáçË¶ÅÁöÑÂéüÂâáÊòØ‰ªÄÈ∫ºÔºü",
                options: ["ÈÅäÊà≤ÊôÇÈñìË∂äÈï∑Ë∂äÂ•Ω", "Ë¶èÂâáË∂äË§áÈõúË∂äÂ•Ω", "ÂÖ∑ÊúâÊ∏ÖÊ•öÁöÑÊïôÂ≠∏ÁõÆÁöÑ", "ÂøÖÈ†à‰ΩøÁî®ÈõªÂ≠êË®≠ÂÇô"],
                answer: 2,
                explanation: "ÁÑ°Ë´ñÂΩ¢ÂºèÂ¶Ç‰ΩïÂ§öÂÖÉÔºåÊ†∏ÂøÉÂéüÂâáÂøÖÈ†àÊòØ„ÄåÂÖ∑ÊúâÊ∏ÖÊ•öÁöÑÊïôÂ≠∏ÁõÆÁöÑ„Äç„ÄÇ"
            }
        ];

        let currentQuestionIndex = 0;
        let score = 0;
        let userName = "";
        let leaderboard = [];

        // --- Matrix Rain Effect ---
        function initMatrix() {
            const canvas = document.getElementById('matrix');
            const ctx = canvas.getContext('2d');

            let width = canvas.width = window.innerWidth;
            let height = canvas.height = window.innerHeight;

            const cols = Math.floor(width / 20);
            const ypos = Array(cols).fill(0);

            ctx.fillStyle = '#000';
            ctx.fillRect(0, 0, width, height);

            function matrix() {
                ctx.fillStyle = '#0001';
                ctx.fillRect(0, 0, width, height);

                ctx.fillStyle = '#0f0';
                ctx.font = '15pt monospace';

                ypos.forEach((y, ind) => {
                    const text = String.fromCharCode(Math.random() * 128);
                    const x = ind * 20;
                    ctx.fillText(text, x, y);
                    if (y > 100 + Math.random() * 10000) ypos[ind] = 0;
                    else ypos[ind] = y + 20;
                });
            }

            window.addEventListener('resize', () => {
                width = canvas.width = window.innerWidth;
                height = canvas.height = window.innerHeight;
            });

            setInterval(matrix, 50);
        }

        // --- Game Logic ---

        function startGame() {
            const nameInput = document.getElementById('playerName');
            if (!nameInput.value.trim()) {
                alert("Ë´ãËº∏ÂÖ•ÊÇ®ÁöÑÂêçÂ≠óÔºÅ");
                return;
            }
            userName = nameInput.value.trim();
            score = 0;
            currentQuestionIndex = 0;

            document.getElementById('start-screen').classList.add('hidden');
            document.getElementById('quiz-screen').classList.remove('hidden');
            renderQuestion();
        }

        function renderQuestion() {
            const q = questions[currentQuestionIndex];
            const container = document.getElementById('question-container');

            const progress = ((currentQuestionIndex) / questions.length) * 100;
            document.getElementById('progress-bar').style.width = `${progress}%`;

            container.innerHTML = `
                <div class="animate__animated animate__fadeIn">
                    <h2 class="text-2xl md:text-3xl font-bold text-green-400 mb-6 drop-shadow-[0_0_10px_rgba(74,222,128,0.8)]">
                        Q${currentQuestionIndex + 1}: ${q.question}
                    </h2>
                    <div class="grid grid-cols-1 gap-4">
                        ${q.options.map((opt, idx) => `
                            <button onclick="checkAnswer(${idx})" 
                                class="p-4 text-left border-2 border-green-800 bg-black/60 hover:bg-green-900/50 hover:border-green-500 text-green-100 rounded-lg transition-all duration-300 group transform hover:scale-[1.02]">
                                <span class="inline-block w-8 h-8 rounded-full border border-green-600 text-center leading-7 mr-3 group-hover:bg-green-500 group-hover:text-black font-bold transition-colors">
                                    ${String.fromCharCode(65 + idx)}
                                </span>
                                ${opt}
                            </button>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        function checkAnswer(selectedIndex) {
            const q = questions[currentQuestionIndex];
            const isCorrect = selectedIndex === q.answer;

            if (isCorrect) {
                score += 10;
            }

            showFeedback(isCorrect, q.explanation);
        }

        function showFeedback(isCorrect, explanation) {
            const lightbox = document.getElementById('lightbox');
            const lightboxContent = document.getElementById('lightbox-content');

            lightbox.classList.remove('hidden');
            lightboxContent.className = `max-w-md w-full p-8 rounded-2xl text-center transform transition-all scale-100 border-4 ${isCorrect ? 'bg-green-900/90 border-green-400 shadow-[0_0_50px_rgba(74,222,128,0.5)]' : 'bg-red-900/90 border-red-400 shadow-[0_0_50px_rgba(248,113,113,0.5)]'}`;

            lightboxContent.innerHTML = `
                <div class="text-6xl mb-4 animate__animated animate__bounceIn">
                    ${isCorrect ? 'üéâ' : 'ü•Ä'}
                </div>
                <h3 class="text-3xl font-bold mb-2 ${isCorrect ? 'text-green-300' : 'text-red-300'}">
                    ${isCorrect ? 'ÂõûÁ≠îÊ≠£Á¢∫ÔºÅ' : 'ÂõûÁ≠îÈåØË™§...'}
                </h3>
                <p class="text-white text-lg mb-6 leading-relaxed border-t border-white/20 pt-4 mt-4">
                    ${explanation}
                </p>
                <button onclick="nextQuestion()" class="px-8 py-3 rounded-full font-bold text-lg transition-transform hover:scale-105 ${isCorrect ? 'bg-green-500 text-black hover:bg-green-400' : 'bg-red-500 text-white hover:bg-red-400'}">
                    ${currentQuestionIndex < questions.length - 1 ? '‰∏ã‰∏ÄÈ°å ‚ûî' : 'Êü•ÁúãÁµêÊûú ‚ûî'}
                </button>
            `;
        }

        function nextQuestion() {
            document.getElementById('lightbox').classList.add('hidden');
            currentQuestionIndex++;

            if (currentQuestionIndex < questions.length) {
                renderQuestion();
            } else {
                endGame();
            }
        }

        function endGame() {
            document.getElementById('quiz-screen').classList.add('hidden');
            document.getElementById('result-screen').classList.remove('hidden');

            const finalScoreEl = document.getElementById('final-score');
            finalScoreEl.innerText = score;

            // Update message
            const messageEl = document.getElementById('result-message');
            const maxScore = questions.length * 10;
            if (score === maxScore) {
                messageEl.textContent = "ÂÆåÁæéÔºÅ‰Ω†ÂÆåÂÖ®ÊéåÊè°‰∫ÜË©ûÂΩôÊïôÂ≠∏Á≠ñÁï•ÔºÅüèÜ";
            } else if (score >= maxScore * 0.7) {
                messageEl.textContent = "ÂÅöÂæóÂæàÂ•ΩÔºÅ‰Ω†Â∞çË©ûÂΩôÊïôÂ≠∏ÊúâÊ∑±ÂÖ•ÁöÑÁêÜËß£„ÄÇüëç";
            } else {
                messageEl.textContent = "ÁπºÁ∫åÂä†Ê≤πÔºÅÂ§öË§áÁøíË¨õÁæ©ÂÖßÂÆπÊúÉÊõ¥Â•Ω„ÄÇüí™";
            }

            // Save to local leaderboard
            leaderboard.push({ name: userName, score: score, time: new Date().toLocaleString() });
            leaderboard.sort((a, b) => b.score - a.score);
            leaderboard = leaderboard.slice(0, 10);
            updateLeaderboard();
        }

        function restartGame() {
            document.getElementById('result-screen').classList.add('hidden');
            document.getElementById('start-screen').classList.remove('hidden');
            document.getElementById('playerName').value = '';
        }

        function updateLeaderboard() {
            const list = document.getElementById('leaderboard-list');
            if (leaderboard.length === 0) {
                list.innerHTML = '<div class="text-green-800 text-sm text-center py-4">Êú¨Âú∞Ê®°Âºè - ÁÑ°ÈúÄÈÄ£Á∑ö</div>';
                return;
            }

            list.innerHTML = '';
            leaderboard.forEach((entry, index) => {
                const isMe = entry.name === userName && entry.score === score;
                list.innerHTML += `
                    <div class="flex justify-between items-center p-3 mb-2 rounded border border-green-900/50 ${index === 0 ? 'bg-yellow-900/30 text-yellow-300' : 'bg-black/40 text-green-400'}">
                        <div class="flex items-center gap-3">
                            <span class="font-mono font-bold w-6">${index + 1}.</span>
                            <span class="truncate max-w-[120px] ${isMe ? 'text-white font-bold' : ''}">${entry.name}</span>
                        </div>
                        <span class="font-bold font-mono text-xl">${entry.score}</span>
                    </div>
                `;
            });
        }

        // Start Matrix on Load
        window.addEventListener('load', initMatrix);

    </script>

</body>

</html>